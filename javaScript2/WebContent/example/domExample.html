<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="add">Add Row</button>
    <ul id = "parentList">
        <li style="display:none">One</li>
        <li>One-1</li>
        <li>Two</li>
    </ul>
    <script>
        var lis = document.querySelectorAll("ul li");
        lis.forEach(function(a){
            console.log(a);
            a.addEventListener("mouseover", function(){
                a.style.backgroundColor="skyblue";
            })
            a.addEventListener("mouseout", function(){
                a.style.backgroundColor="";
            })
            a.addEventListener("click", function(){
               var inputs = document.querySelectorAll("#parentList input");
               inputs.forEach(function(obj){
                   obj.parentNode.remove();
               })
               lis.forEach(function(objs){
                   if(objs.style.display =="none")
                   objs.style.display="";
               })
               var text = a. innerHTML;
               var btn = document.createElement("button");
               $li = document.createElement("li");
               $input = document.createElement("input");
               $input.value=text;
               $li.appendChild($input);
               a.after($li);
               a.style.display="none";
              $li.appendChild(btn);
              btn.innerHTML ="저장";


               
               
               
                // var $text = a.innerHTML;
                // var $li = document.createElement("li");
                // var $input = document.createElement("input");
                // var $textnode = document.createElement($text);
                // var $btn = document.createElement("botton");
                // $input.value = $text;
                // $li.appendChild($input);
                // a.after($li);
                // $input.after($btn);
                // a.style.display='none';
                // $btn.innerHTML="저장";

            $btn.onclick=function(){
                var $li = document.createElement("li");
                //var $textnode = document.createElement($text);
                var $input = document.createElement("input");
                $li.appendChild($input);
                $input.value = $text;
                a.after($li);

            }

        
            })

        })

        var numbers = ["Three", "Four", "Five"];
        var btn = document.getElementById("add");
        console.log(btn);
        
        var numberIdx = 0;
        btn.addEventListener("click", function(e){
            //console.log(e.target.innerHTML);
            console.log(e);
            var $li = document.createElement("li");
            $li.addEventListener("mouseover", function(a){
                console.log(a);
                a.target.style.backgroundColor="skyblue";
            })
            $li.addEventListener("mouseout",function(a){
                a.target.style.backgroundColor="";
            })
            var $text = document.createTextNode(numbers[numberIdx++]);
            $li.appendChild($text);
            document.getElementById("parentList").appendChild($li);
            
        })
            
        // btn.onclick = function(){
        //     btn.innerHTML="한줄추가";
        // };
        
    </script>
</body>
</html>